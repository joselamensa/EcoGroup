const productos = {
    bolsas: [
    {
        "nombre": "Bolsas Residuo Negra",
        "imagen": "../../imgs/productos/bolsas/Bolsas de residuos .jpg",
        "descripcion": "Bolsas 100 x 110"
    },
    {
        "nombre": "Bolsas Residuo Tambor",
        "imagen": "../../imgs/productos/bolsas/Bolsas de residuos .jpg",
        "descripcion": "Bolsas 100 x 120"
    },
    {
        "nombre": "Bolsas Residuo Negra",
        "imagen": "../../imgs/productos/bolsas/Bolsas de residuos .jpg",
        "descripcion": "Bolsas 60 x 90"
    },
    {
        "nombre": "Bolsas Residuo Negra",
        "imagen": "../../imgs/productos/bolsas/Bolsas de residuos .jpg",
        "descripcion": "Bolsas 45 x 60"
    },
    {
        "nombre": "Bolsa de residuos azul",
        "imagen": "../../imgs/productos/bolsas/bolsa residuos azul.jpg",
        "descripcion": "Bolsas de residuos de color azul para una gestión eficiente."
    },
    {
        "nombre": "Bolsa transparente",
        "imagen": "../../imgs/productos/bolsas/bolsa transparente.jpg",
        "descripcion": "Bolsas transparentes ideales para la visibilidad de su contenido."
    },
    {
        "nombre": "Bolsas de basura Eco",
        "imagen": "../../imgs/productos/bolsas/BolsaResiduoVerde.jpg",
        "descripcion": "Bolsas de basura biodegradables para un entorno más limpio."
    },
    {
        "nombre": "Bolsas amarillas",
        "imagen": "../../imgs/productos/bolsas/bolsas amarillas.jpg",
        "descripcion": "Bolsas amarillas para residuos específicos."
    },
    {
        "nombre": "Bolsas conjunto",
        "imagen": "../../imgs/productos/bolsas/bolsas conjunto.avif",
        "descripcion": "Conjunto de bolsas para diferentes usos."
    },
    ],


    guantes: [
        {
            "nombre": "Guantes de látex",
            "tipo": "latex",
            "imagen": "../../imgs/productos/guantes/latexsinpolvo.png",
            "descripcion": "Guantes de látex sin Polvo talle S"
        },
        {
            "nombre": "Guantes de látex",
            "categoria": "Guantes",
            "tipo": "latex",
            "imagen": "../../imgs/productos/guantes/latexsinpolvo.png",
            "descripcion": "Guantes de látex sin Polvo talle M"
        },
        {
            "nombre": "Guantes de látex",
            "categoria": "Guantes",
            "tipo": "latex",
            "imagen": "../../imgs/productos/guantes/latexsinpolvo.png",
            "descripcion": "Guantes de látex sin Polvo talle L"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/MedigloveNegroReforzado.jpg",
            "descripcion": "Guantes de Nitrilo Negro Reforzado talle S"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/MedigloveNegroReforzado.jpg",
            "descripcion": "Guantes de Nitrilo Negro Reforzado talle M"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/MedigloveNegroReforzado.jpg",
            "descripcion": "Guantes de Nitrilo Negro Reforzado talle L"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/MedigloveNegroReforzado.jpg",
            "descripcion": "Guantes de Nitrilo Negro Reforzado talle XL"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/nitrilolila.png",
            "descripcion": "Guantes de Nitrilo Lila talle S"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/nitrilolila.png",
            "descripcion": "Guantes de Nitrilo Negro Lila talle M"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/nitrilolila.png",
            "descripcion": "Guantes de Nitrilo Negro Lila talle L"
        },
        {
            "nombre": "Guantes de Nitrilo",
            "tipo": "Nitrilo",
            "imagen": "../../imgs/productos/guantes/nitrilolila.png",
            "descripcion": "Guantes de Nitrilo Negro Lila talle XL"
        },
    ],
    Desinfectantes: [
        {
            "nombre": "Desodorante de Ambientes",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/AersolGlade.webp",
            "descripcion": "Glade Desodorante de Ambientes Aerosol 380 ml"
        },
        {
            "nombre": "Lustrador de Muebles Blem",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/Blem Original.png",
            "descripcion": "Aerosol Lustramuebles Blem Original 380 ml"
        },
        {
            "nombre": "Lysoform Aerosol Desinfectante",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/Lysoform-aerosol-desin.webp",
            "descripcion": "Lysoform Aerosol Desinfectante de Ambientes 495 ml"
        },
        {
            "nombre": "Raid",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/Raid .webp",
            "descripcion": "Lysoform Aerosol Desinfectante de Ambientes 495 ml"
        },
        {
            "nombre": "Pato Purific",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/Pato Purific.webp",
            "descripcion": "Lysoform Aerosol Desinfectante de Ambientes 495 ml"
        },
        {
            "nombre": "Mister Musculo",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/Mister Musculo Crema.jpg",
            "descripcion": "Lysoform Aerosol Desinfectante de Ambientes 495 ml"
        },
        {
            "nombre": "Ceramicol",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/lustramuebles ceramicol.webp",
            "descripcion": "Lysoform Aerosol Desinfectante de Ambientes 495 ml"
        },
        {
            "nombre": "Off",
            "tipo": "Desinfectante",
            "marca": "scjhonson",
            "imagen": "../../imgs/productos/Aromatizantes/scjhonson/off.webp",
            "descripcion": "Lysoform Aerosol Desinfectante de Ambientes 495 ml"
        },        
        {
            "nombre": "Limpia Metales Acero Inox Würth",
            "tipo": "Wurth",
            "imagen": "../../imgs/productos/Aromatizantes/wurth/limpiadordemetals.webp",
            "marca": "wurth",
            "descripcion": "Limpiador En Spray Para Acero Inoxidable Würth 400 Ml"
        },
        {
            "nombre": "Aromatizante de Ambiente Max Aroma",
            "tipo": "Max Aroma",
            "imagen": "../../imgs/productos/Aromatizantes/maxaroma/maxaroma.jpg",
            "marca": "maxaroma",
            "descripcion": "Aromatizante x12 u, Max Aroma Fragancias Mixtas"
        },

    ],
    Papel: [
        {
            "nombre": "Papel Higienico Elegante 300mts",
            "tipo": "higienico",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Papel Higienico Elegante, x 8 u, COD 1047, (cono grande)."
        },
        {
            "nombre": "Papel Higienico Elegante 300mts",
            "tipo": "higienico",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Papel Higienico Elegante, x 8 u, COD 1046, (cono chico)."

        },
         {
            "nombre": "Papel Higienico Elegante 500mts",
            "tipo": "higienico",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Papel Higienico Elegante, x 4 u, COD 1018."

       },
        {
            "nombre": "Papel Higienico Elegante 30mts",
            "tipo": "higienico",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Papel Higienico Elegante Premium, x 12 u, COD 919."

        },
        {
            "nombre": "Bobina de Papel 300mts",
            "tipo": "bobina",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Toalla Premium en Bobina Elegante, x 2 u, COD 1028."
       },
        {
            "nombre": "Bobina de Papel 19 cm x 400mts",
            "tipo": "bobina",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Toalla Premium en Bobina Elegante, x 2 u, COD 1004."
       },
        {
            "nombre": "Bobina de Papel 24 cm x 400mts",
            "tipo": "bobina",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante", 
            "descripcion": "Toalla Premium en Bobina Elegante, x 2 u, COD 1003."
       },
        {
            "nombre": "Servilleta Papel de Mesa x 1000 u.",
            "tipo": "servilleta",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Servillete de Mesa Elegante Papel Blanco Tissue COD 290."
       },
        {
            "nombre": "Toalla De Papel Blancas Intercaladas",
            "tipo": "intercalada",
            "imagen": "../../imgs/productos/Papel/elegante 290.webp",
            "marca": "Elegante",
            "descripcion": "Toalla Intercalada Premium x 2500 u."
        }
    ]

    
};
// Función para cargar productos según la categoría, tipo y marca
function cargarProductos() {
    const urlParams = new URLSearchParams(window.location.search);
    const categoria = urlParams.get('categoria');
    const tipo = urlParams.get('tipo');
    const marca = urlParams.get('marca');

    const container = document.getElementById('productos-container');
    container.innerHTML = ''; // Limpiar el contenedor

    // Determinar qué productos mostrar
    let productosFiltrados = [];
    if (categoria) {
        productosFiltrados = productos[categoria] || [];
    } else if (marca) {
        // Si no hay categoría pero sí hay marca, buscar en todas las categorías
        productosFiltrados = Object.values(productos).flat().filter(producto => producto.marca === marca);
    } else {
        // Si no hay ni categoría ni marca, mostrar todos los productos
        productosFiltrados = Object.values(productos).flat();
    }

    // Aplicar filtro adicional por tipo si está presente
    if (tipo) {
        productosFiltrados = productosFiltrados.filter(producto => producto.tipo === tipo);
    }

    // Mostrar los productos filtrados
    if (productosFiltrados.length === 0) {
        container.innerHTML = '<p>No se encontraron productos.</p>';
    } else {
        const row = document.createElement('div');
        row.className = 'row row-cols-1 row-cols-md-3 g-4';
        
        productosFiltrados.forEach(producto => {
            const col = document.createElement('div');
            col.className = 'col';
            col.innerHTML = `
                <div class="card h-100">
                    <img src="${producto.imagen}" class="card-img-top" style="object-fit: scale-down;" alt="${producto.nombre}">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title text-center">${producto.nombre}</h5>
                        <p class="card-text text-center flex-grow-1">${producto.descripcion}</p>
                        <div class="mt-auto text-center">
                            <a href="#" class="btn btn-primary" onclick="verProducto('${producto.nombre}')">Agregar a presupuesto</a>
                        </div>
                    </div>
                </div>`;
            row.appendChild(col);
        });
        
        container.appendChild(row);
    }

    // Ajustar alturas de las tarjetas después de que se hayan cargado las imágenes
    window.addEventListener('load', () => {
        const cards = document.querySelectorAll('.card');
        let maxHeight = 0;
        cards.forEach(card => {
            const height = card.offsetHeight;
            maxHeight = Math.max(maxHeight, height);
        });
        cards.forEach(card => {
            card.style.height = `${maxHeight}px`;
        });
    });
}

// Llama a la función para cargar productos al cargar la página
document.addEventListener('DOMContentLoaded', () => cargarProductos());